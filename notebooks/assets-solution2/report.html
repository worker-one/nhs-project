
        <!DOCTYPE html>
        <html>
        <head>
            <title>NHS Patient Risk Assessment - Comprehensive Predictive Modeling Report</title>
            <style>
                body { font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; margin: 40px; line-height: 1.6; }
                .header { background: linear-gradient(135deg, #005EB8, #0072CE); color: white; padding: 30px; text-align: center; border-radius: 10px; }
                .section { margin: 30px 0; padding: 20px; border-left: 4px solid #005EB8; }
                .metric { background-color: #f8f9fa; padding: 20px; margin: 15px 0; border-radius: 8px; border: 1px solid #e9ecef; }
                .warning { background-color: #fff3cd; border: 1px solid #ffeaa7; padding: 15px; border-radius: 8px; }
                .success { background-color: #d1edff; border: 1px solid #0072CE; padding: 15px; border-radius: 8px; }
                .critical { background-color: #f8d7da; border: 1px solid #f5c6cb; padding: 15px; border-radius: 8px; }
                table { border-collapse: collapse; width: 100%; margin: 20px 0; }
                th, td { border: 1px solid #ddd; padding: 12px; text-align: left; }
                th { background-color: #005EB8; color: white; font-weight: bold; }
                tr:nth-child(even) { background-color: #f2f2f2; }
                .stats-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: 20px; margin: 20px 0; }
                .stat-box { background: #f8f9fa; padding: 20px; border-radius: 8px; text-align: center; border: 1px solid #e9ecef; }
                .stat-number { font-size: 2em; font-weight: bold; color: #005EB8; }
                .stat-label { color: #666; margin-top: 5px; }
                img { border: 1px solid #ddd; border-radius: 5px; }
            </style>
        </head>
        <body>
            <div class="header">
                <h1>üè• NHS Patient Risk Assessment</h1>
                <h2>Comprehensive Predictive Modeling Report</h2>
                <p>Advanced Machine Learning Analysis for Healthcare Risk Management</p>
                <p><strong>Generated:</strong> 2025-08-07 14:11:20</p>
            </div>

            <div class="section">
                <h2>üìä Executive Summary</h2>
                <p>This comprehensive report presents the results of advanced predictive modeling analysis 
                for patient risk assessment across three critical healthcare areas: readmission risk, 
                treatment outcomes, and appointment adherence. The analysis employs state-of-the-art 
                machine learning techniques including Random Forest, Gradient Boosting, and Logistic Regression 
                with hyperparameter optimization.</p>

                <div class="stats-grid">
                    <div class="stat-box">
                        <div class="stat-number">30000</div>
                        <div class="stat-label">Patients Analyzed</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number">1205</div>
                        <div class="stat-label">High Risk Patients</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number">1054</div>
                        <div class="stat-label">Medium Risk Patients</div>
                    </div>
                    <div class="stat-box">
                        <div class="stat-number">27741</div>
                        <div class="stat-label">Low Risk Patients</div>
                    </div>
                </div>
            </div>

            <div class="section">
                <h2>ü§ñ Model Performance Analysis</h2>

                <div class="metric">
                    <h3>üîÑ Readmission Risk Model (Random Forest)</h3>
                    <p><strong>Algorithm:</strong> Random Forest with balanced class weights and hyperparameter optimization</p>
                    <p><strong>AUC Score:</strong> 0.992</p>
                    <p><strong>Cross-Validation:</strong> 0.991 ¬± 0.003</p>
                    <p><strong>Interpretation:</strong> Excellent predictive performance</p>
                </div>

                <div class="metric">
                    <h3>üéØ Treatment Outcome Model (Gradient Boosting)</h3>
                    <p><strong>Algorithm:</strong> Gradient Boosting with adaptive learning rate and depth optimization</p>
                    <p><strong>AUC Score:</strong> 1.000</p>
                    <p><strong>Cross-Validation:</strong> 1.000 ¬± 0.000</p>
                    <p><strong>Interpretation:</strong> Excellent predictive performance</p>
                </div>

                <div class="metric">
                    <h3>üìÖ Appointment No-Show Model (Logistic Regression)</h3>
                    <p><strong>Algorithm:</strong> Regularized Logistic Regression with L1/L2 penalty optimization</p>
                    <p><strong>AUC Score:</strong> 0.898</p>
                    <p><strong>Cross-Validation:</strong> 0.897 ¬± 0.004</p>
                    <p><strong>Interpretation:</strong> Excellent predictive performance</p>
                </div>
            </div>

            <div class="section">
                <h2>üìà Risk Score Distribution Analysis</h2>
                <table>
                    <tr>
                        <th>Risk Category</th>
                        <th>Mean Score</th>
                        <th>Standard Deviation</th>
                        <th>High Risk (&gt;0.7)</th>
                        <th>Medium Risk (0.4-0.7)</th>
                        <th>Low Risk (&lt;0.4)</th>
                    </tr>
                    <tr>
                        <td>üîÑ Readmission Risk</td>
                        <td>0.120</td>
                        <td>0.295</td>
                        <td>3085</td>
                        <td>714</td>
                        <td>26201</td>
                    </tr>
                    <tr>
                        <td>üéØ Poor Outcome Risk</td>
                        <td>0.134</td>
                        <td>0.341</td>
                        <td>4017</td>
                        <td>0</td>
                        <td>25983</td>
                    </tr>
                    <tr>
                        <td>üìÖ No-Show Risk</td>
                        <td>0.281</td>
                        <td>0.308</td>
                        <td>5958</td>
                        <td>682</td>
                        <td>23360</td>
                    </tr>
                    <tr style="background-color: #e8f4fd;">
                        <td><strong>üìä Overall Risk</strong></td>
                        <td><strong>0.178</strong></td>
                        <td><strong>0.205</strong></td>
                        <td><strong>1205</strong></td>
                        <td><strong>1054</strong></td>
                        <td><strong>27741</strong></td>
                    </tr>
                </table>
            </div>

            <div class="section">
                <h2>üö® Clinical Action Plan</h2>

                <div class="critical">
                    <h3>üî¥ Immediate Priority Actions (High Risk Patients: 1205)</h3>
                    <ul>
                        <li><strong>Readmission Prevention:</strong> Implement intensive care coordination for 3085 high-risk patients</li>
                        <li><strong>Outcome Monitoring:</strong> Schedule enhanced follow-up for 4017 patients at risk of poor outcomes</li>
                        <li><strong>Appointment Adherence:</strong> Deploy proactive reminder system for 5958 patients likely to miss appointments</li>
                        <li><strong>Resource Allocation:</strong> Prioritize case management resources for overall high-risk patients</li>
                    </ul>
                </div>

                <div class="warning">
                    <h3>üü° Secondary Priority Actions (Medium Risk Patients: 1054)</h3>
                    <ul>
                        <li>Implement preventive care protocols</li>
                        <li>Schedule regular monitoring appointments</li>
                        <li>Provide patient education resources</li>
                        <li>Monitor for risk escalation indicators</li>
                    </ul>
                </div>

                <div class="success">
                    <h3>üü¢ Maintenance Actions (Low Risk Patients: 27741)</h3>
                    <ul>
                        <li>Continue standard care protocols</li>
                        <li>Periodic risk reassessment</li>
                        <li>Preventive health maintenance</li>
                        <li>Annual comprehensive reviews</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>‚ö†Ô∏è Model Limitations and Considerations</h2>
                <div class="warning">
                    <h3>Important Limitations:</h3>
                    <ul>
                        <li><strong>Data Dependency:</strong> Model performance is directly tied to data quality and completeness</li>
                        <li><strong>Temporal Validity:</strong> Models require regular retraining as medical practices and patient populations evolve</li>
                        <li><strong>Clinical Judgment:</strong> Risk scores should supplement, not replace, professional clinical assessment</li>
                        <li><strong>Bias Monitoring:</strong> Continuous monitoring for potential demographic or socioeconomic bias is essential</li>
                        <li><strong>Sample Size:</strong> Analysis limited to 30000 patients - larger samples may improve model robustness</li>
                        <li><strong>Feature Engineering:</strong> Additional clinical variables could enhance predictive accuracy</li>
                    </ul>
                </div>
            </div>

            <div class="section">
                <h2>üî¨ Technical Implementation Notes</h2>
                <div class="metric">
                    <h3>Model Training Details:</h3>
                    <ul>
                        <li><strong>Cross-validation:</strong> 5-fold stratified cross-validation for robust performance estimation</li>
                        <li><strong>Hyperparameter Optimization:</strong> Grid search with AUC optimization for all models</li>
                        <li><strong>Class Balancing:</strong> Implemented balanced class weights to handle imbalanced datasets</li>
                        <li><strong>Feature Scaling:</strong> StandardScaler applied for consistent feature magnitudes</li>
                        <li><strong>Model Interpretability:</strong> SHAP values computed for explainable AI compliance</li>
                    </ul>
                </div>
            </div>

            
        <div class="section">
            <h2>Data Analysis Visualizations</h2>

            <h3>Data Quality Analysis</h3>
            <p>Overview of data completeness, distributions, and basic statistics.</p>
            <img src="data_quality_analysis.png" alt="data_quality" style="max-width:100%;margin-bottom:20px;">
<img src="readmission_risk_evaluation.png" alt="readmission_eval" style="max-width:100%;margin-bottom:20px;">
<img src="treatment_outcome_evaluation.png" alt="outcome_eval" style="max-width:100%;margin-bottom:20px;">
<img src="appointment_no-show_evaluation.png" alt="noshow_eval" style="max-width:100%;margin-bottom:20px;">
<img src="feature_importance_analysis.png" alt="feature_importance" style="max-width:100%;margin-bottom:20px;">
<img src="risk_score_distributions.png" alt="risk_distributions" style="max-width:100%;margin-bottom:20px;">
<img src="risk_correlation_matrix.png" alt="risk_correlation" style="max-width:100%;margin-bottom:20px;">
<img src="shap_summary_readmission.png" alt="shap_readmission" style="max-width:100%;margin-bottom:20px;">
<img src="shap_summary_outcome.png" alt="shap_outcome" style="max-width:100%;margin-bottom:20px;">
<img src="shap_summary_noshow.png" alt="shap_noshow" style="max-width:100%;margin-bottom:20px;">


            <h3>Model Performance Evaluation</h3>
            <p>ROC curves and confusion matrices for all three predictive models.</p>

            <h3>Feature Importance Analysis</h3>
            <p>Identification of the most influential features for each prediction model.</p>

            <h3>SHAP (SHapley Additive exPlanations) Analysis</h3>
            <p>Advanced model interpretability showing how individual features contribute to predictions.</p>

            <h3>Risk Score Analysis</h3>
            <p>Distribution patterns and correlations between different risk types.</p>
        </div>
        

            <div class="section">
                <h2>üìã Next Steps and Recommendations</h2>
                <div class="metric">
                    <ol>
                        <li><strong>Immediate Deployment:</strong> Implement risk scoring system for high-priority patients</li>
                        <li><strong>Validation Study:</strong> Conduct prospective validation with new patient cohorts</li>
                        <li><strong>Integration Planning:</strong> Develop workflows for incorporating risk scores into clinical practice</li>
                        <li><strong>Staff Training:</strong> Educate healthcare teams on risk score interpretation and action protocols</li>
                        <li><strong>Monitoring Framework:</strong> Establish continuous monitoring for model performance and bias detection</li>
                        <li><strong>Expansion Opportunities:</strong> Consider additional risk domains (medication adherence, emergency visits, etc.)</li>
                    </ol>
                </div>
            </div>

            <div style="text-align: center; margin-top: 40px; padding: 20px; background-color: #f8f9fa; border-radius: 8px;">
                <p><strong>Report Generated by NHS Predictive Analytics System</strong></p>
                <p>For technical questions or model updates, contact the Data Science Team</p>
                <p><em>This analysis is for clinical decision support and should be used in conjunction with professional medical judgment</em></p>
            </div>

        </body>
        </html>
        